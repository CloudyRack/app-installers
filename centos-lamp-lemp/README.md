# LAMP/LEMP CENTOS-7 SERVER AUTOMATED INSTALLER.

The following scripts installs Linux Apache/Ngnix PHP MySql (MariaDB) Servers:

- centos7-lamp.sh: Linux, Apache, PHP, MySQL (MariaDB 10.1).
- centos7-lemp.sh: linux, Nginx, PHP, MySQL (MariaDB 10.1).

The PHP versions are selectable from "distro default" 5.5, 5.6 from webtatic, and 7.1 from webtatic too. To select your desired PHP version, change the following variable at the beginning of the script:

```bash
export phpversion="56"
```

Use:

- 55 or "standard" for distribution default PHP version (the one included on Centos7 by default).
- 56 for php-5.6 from webtatic repositories.
- 71 for php-7.1 from webtatic repositories.

The MariaDB password is autogenerated, and the credentials are stored on the following file:

- LAMP Server: /root/lamp-server-mariadb-credentials.txt
- LEMP Server: /root/lemp-server-mariadb-credentials.txt

In all possible php selections, the active php.ini file is /etc/php.ini (either real file or symlink to actual file).

Please note that this script will disable selinux. If you want you can install them back after this script finish its run. Firewalld is enabled and configured with opened ports: http, https and ssh. MySQL/MariaDB port is not opened by default (but the service is configured to 0.0.0.0/0). Please consider carefully if you need to open MariaDB port (tcp 3306) to all the world. If you want to open the port, use the following commands:

```bash
firewall-cmd --zone=public --add-service=mysql --permanent
firewall-cmd --reload
```

**THIS SCRIPT IS ONLY FOR CENTOS 7 X86_64**


# PHPMYADMIN

Both scripts installs and configures "phpmyadmin" as a controllable option by the variable `phpmyadmin="yes"` at the beggining of the script. We use the version available from sources, and configure it using with it's internal config database.


# LETSENCRYPT

Both scripts install "certbot" (letsencrypt software) and set the required crontab for automated renewall. The "ssl" certificate on both nginx/apache is "self-signed". Use "certbot" to adquire a valid certificate from letsencrypt.


# OPENED PORTS

FirewallD allow traffic for the following ports only (input traffic):

- 80 tcp (http).
- 443 tcp (https).
- 22 tcp (ssh).


# GENERAL REQUIREMENTS:

This script will fail if the following requirements are not meet:

- Operating System: Centos 7.
- Architecture: x86_64/amd64.
- INSTALLED RAM: 512Mb.
- CPU: 1 Core/Thread.
- FREE DISK SPACE: 5GB.
