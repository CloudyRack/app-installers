# AUTOMATED WORDPRESS INSTALLER WITH  MARIADB 10.1 (DOCKERIZED) FOR CENTOS7 / UBUNTU1604LTS

This script will install latest docker-ce, download mariadb 10.1 image, and configure it, then install and configure WordPress with Apache.

The internal directories in the container for database data and database config will be mapped to the following directory/files:

- /var/wordpress-storage/mariadb01/conf.d/server.cnf: Server configuration.
- /var/wordpress-storage/mariadb01/data/: Server data. Also, this directory will be symlinked to /var/lib/mysql.

If the script find a secondary free disk/volume, it will use it for the database storage. In such case, the volume will be mounted on "/var/wordpress-storage". Also, it will move /var/www/html to var/wordpress-storage/html and symlink it back to /var/www/html.

The database credentials (root and wordpress) are autogenerated and later stored on the file /root/wordpress-access-info.txt. Also, the file /root/.my.cnf will be configured with the database root user credentials in order to let the "mysql" command to connect without including user/password on the mysql command call.

All tasks and errors performed by this script will be stored on the file "/var/log/wordpress-install.log". Monitor that file in order to see if your installations concludes OK or not. Once the installation finishes, you can enter to your wordpress site with any browser in order to set your final configuration (wodpress access and your e-mail).

**NOTE**: The "mariadb" dockerized service will run into a "systemd" unit called "docker-mariadb-server". You can use the standard "stop", "start", "restart", "status" commands with this unit in order to manage the mariadb service:

```bash
systemctl start docker-mariadb-server
systemctl restart docker-mariadb-server
systemctl stop docker-mariadb-server
systemctl status docker-mariadb-server
```

# FIREWALLD/UFW

Depenging on the distro (centos7 or ubuntu1604lts) firewalld/ufw will be installed and configured. The only ports to open will be:

- 22 tcp (ssh).
- 80 tcp (http).
- 443 tcp (https).

Please note that this script will disable both firewalld and selinux if the machine is a Centos 7. If you want you can install them back after this script finish its run.

# GENERAL REQUIREMENTS:

This script will fail if the following requirements are not meet:

- Operating System: Centos 7 or Ubuntu 16.04lts
- Architecture: x86_64/amd64.
- INSTALLED RAM: 1024Mb (1GB).
- CPU: 1 Core/Thread.
- FREE DISK SPACE: 5GB.
